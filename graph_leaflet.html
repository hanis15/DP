<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title>NetTMap_v3</title>
    <script src="//d3js.org/d3.v3.min.js" charset="utf-8"></script>
    <script src="jQuery/jquery-1.12.1.min.js" type="text/javascript"></script>
    <script src="jQuery/jquery.qtip.min.js" type="text/javascript"></script>
    <link href="jQuery/jquery.qtip.min.css" type="text/css" rel="stylesheet" />

    <script src="Leaflet/leaflet.js" type="text/javascript"></script>
    <link href="Leaflet/leaflet.css" type="text/css" rel="stylesheet" />
    <link href="bootstrap/css/bootstrap.min.css" rel="stylesheet" media="screen">
    <script src="source/main_Leaflet.js"></script>
</head>
<body>
    <div class="navbar navbar-inverse navbar-fixed-top">
        <!-- Menu -->
        <div class="navbar-inner">
            <div class="container">
                <button type="button" class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="brand" href="index.html">NetTMap_v3</a>
                <div class="nav-collapse collapse">
                    <ul class="nav">
                        <li><a href="index.html">Topology map</a></li>
                        <li class="active"><a href="graph_leaflet.html">Graph - Leaflet</a></li>
                        <li><a href="setting.html">Setting</a></li>
                        <li><a href="about.html">About</a></li>
                   </ul>
                </div>
            </div>
        </div>

        <!-- Obsah stranky -->
        <div class="container">
            <h1>Graph - mapa</h1>
            <p>Zobrazeni mapy s leaflet</p>
            <hr />
            <p>
                GeoJSON:
                <input type="file" id="file_input_goe_json">
                <div id="option">
                    Type:
                    <select type='select' id='geo_option' title="Podklad" onchange='updateData(value);' style='color:steelblue;font-size:1.1em;'>
                        <option value='cz' name='cz' selected='true'>Czech republic</option>
                        <option value='brno' name='brno'>Brno</option>
                        <option value='eu' name='evropa'>Evropa</option>
                        <option value='world' name='svet'>Svět</option>
                    </select>
                </div>
            </p>
            <hr />
            <div id="graph_map"></div>
            <script>
                var height = 500;
                var width = 800;
                var id = "graph_map";

                var my_graph = new geo_Leaflet_graph(id, width, height);
                my_graph.create_map();

                // nacteni GEOJSON
                function readSingleFile(e) {
                    var file = e.target.files[0];
                    if (!file) {
                        return;
                    }
                    var reader = new FileReader();
                    reader.onload = function (e) {
                        var contents = e.target.result;
                        my_graph.set_data(contents);
                    };
                    reader.readAsText(file);
                }

                document.getElementById('file_input_goe_json')
                    .addEventListener('change', readSingleFile, false);



                function updateData(value) {
                    my_graph.set_center(value);
                }
            </script>
        </div>
    </div>
</body>
</html>